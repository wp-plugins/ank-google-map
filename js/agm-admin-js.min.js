function $By_ID(b){return document.querySelector("#"+b)||document.getElementById(b)}function Load_agm_Map(){var e=Math.max(document.documentElement.clientWidth,window.innerWidth||0);var a=new google.maps.LatLng(agm_opt.map_Lat,agm_opt.map_Lng);var c={draggable:e>480?true:false,overviewMapControl:true,center:a,streetViewControl:false,zoom:agm_opt.map_zoom,mapTypeId:google.maps.MapTypeId.ROADMAP};var b=new google.maps.Map(agm_map,c);var i=jQuery("#agm_lat"),j=jQuery("#agm_lng"),h=jQuery("#agm_zoom"),f=jQuery("#agm_zoom_pre");var g=new google.maps.Marker({draggable:true,position:a,map:b,title:"Current Position"});google.maps.event.addListener(b,"rightclick",function(k){i.val(k.latLng.lat());j.val(k.latLng.lng());g.setTitle("Selected Position");g.setPosition(k.latLng)});google.maps.event.addListener(g,"dragend",function(k){i.val(k.latLng.lat());j.val(k.latLng.lng())});google.maps.event.addListener(b,"zoom_changed",function(){h.val(b.getZoom());f.html(b.getZoom())});google.maps.event.addListener(b,"center_changed",function(){var k=b.getCenter();i.val(k.lat());j.val(k.lng())});h.on("input click",function(){f.html(this.value);b.setZoom(parseInt(h.val()))});var d=new google.maps.places.Autocomplete($By_ID("agm_autocomplete"));google.maps.event.addListener(d,"place_changed",function(){var k=d.getPlace();if(k.geometry){b.panTo(k.geometry.location);g.setPosition(k.geometry.location);b.setZoom(15);g.setTitle(k.formatted_address)}})}var agm_map=$By_ID("agm_map_canvas");if(typeof google=="object"){google.maps.event.addDomListener(window,"load",Load_agm_Map)}else{agm_map.innerHTML='<h4 style="text-align: center;color: #ba060b">Failed to load Google Map.<br>Refresh this page and try again.<br>Check your internet connection as well.</h4>'}jQuery(function(a){a("#agm_autocomplete").keydown(function(b){if(b.which==13||b.which==13){b.preventDefault();b.stopPropagation()}});a("#agm_info_on").click(function(){if(a(this).is(":checked")){a(this).next("label").find("i:not(:visible)").fadeIn()}});if(agm_opt.color_picker){a("#agm_color_field").wpColorPicker()}a("#screen-options-wrap").find("div.agm_meta_box").find("input").change(function(){var c=a(this).parents("div.agm_meta_box").find("input").serialize();var b=a("#agm_meta_ajax_result");b.stop(true,true).fadeOut(0);a.ajax({url:agm_opt.ajax_url,data:c,success:function(f,e){if(f=="1"&&e=="success"){b.html('&#10004; Settings has been saved, <a href="#" onclick="window.location.reload()">Reload</a> page to see changes.').fadeIn(function(){b.delay("10000").fadeOut(0)})}},error:function(e,d){var f="Error Saving Options";if(e.status===0){f="Could not connect to server ! Try Again.."}else{if(d==="timeout"){f="Connection Timeout ! Try Again.."}else{f="Unknown error."}}b.html("&#10008; "+f).show()}})})});