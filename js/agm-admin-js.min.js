function $By_ID(b){return document.querySelector("#"+b)||document.getElementById(b)}function Load_agm_Map(){var a=new google.maps.LatLng(agm_opt.map_Lat,agm_opt.map_Lng);var c={overviewMapControl:true,center:a,streetViewControl:false,zoom:agm_opt.map_zoom,mapTypeId:google.maps.MapTypeId.ROADMAP};var b=new google.maps.Map(agm_map,c);var h=jQuery("#agm_lat"),i=jQuery("#agm_lng"),g=jQuery("#agm_zoom"),e=jQuery("#agm_zoom_pre");var f=new google.maps.Marker({draggable:true,position:a,map:b,title:"Current Position"});google.maps.event.addListener(b,"rightclick",function(j){h.val(j.latLng.lat());i.val(j.latLng.lng());f.setTitle("Selected Position");f.setPosition(j.latLng)});google.maps.event.addListener(f,"dragend",function(j){h.val(j.latLng.lat());i.val(j.latLng.lng())});google.maps.event.addListener(b,"zoom_changed",function(){g.val(b.getZoom());e.html(b.getZoom())});google.maps.event.addListener(b,"center_changed",function(){var j=b.getCenter();h.val(j.lat());i.val(j.lng())});g.on("input click",function(){e.html(this.value);b.setZoom(parseInt(g.val()))});var d=new google.maps.places.Autocomplete($By_ID("agm_autocomplete"));google.maps.event.addListener(d,"place_changed",function(){var j=d.getPlace();if(j.geometry){b.panTo(j.geometry.location);f.setPosition(j.geometry.location);b.setZoom(15);f.setTitle(j.formatted_address)}})}var agm_map=$By_ID("agm_map_canvas");if(typeof google=="object"){google.maps.event.addDomListener(window,"load",Load_agm_Map)}else{agm_map.innerHTML='<h4 style="text-align: center;color: #ba060b">Failed to load Google Map.<br>Refresh this page and try again.<br>Check your internet connection as well.</h4>'}jQuery(function(a){a("#agm_autocomplete").keydown(function(b){if(b.which==13||b.which==13){b.preventDefault();b.stopPropagation()}});a("#agm_info_on").click(function(){if(a(this).is(":checked")){a(this).next("label").find("i:not(:visible)").fadeIn()}});if(agm_opt.color_picker){a("#agm_color_field").wpColorPicker()}a("#screen-options-wrap").find("div.agm_meta_box").find("input").change(function(){var c=a(this).parents("div.agm_meta_box").find("input").serialize();var b=a("#agm_meta_ajax_result");b.stop(true,true).fadeOut(0);a.ajax({url:agm_opt.ajax_url,data:c,success:function(f,e){if(f=="1"&&e=="success"){b.html('&#10004; Settings has been saved, <a href="#" onclick="window.location.reload()">Reload</a> page to see changes.').fadeIn(function(){b.delay("10000").fadeOut(0)})}},error:function(e,d){var f="Error Saving Options";if(e.status===0){f="Could not connect to server ! Try Again.."}else{if(d==="timeout"){f="Connection Timeout ! Try Again.."}else{f="Unknown error."}}b.html("&#10008; "+f).show()}})})});